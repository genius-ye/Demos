package com.genius.views.drawfontview;

import android.content.Context;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.PopupWindow;

import com.genius.R;


public class DrawFrontActivity extends AppCompatActivity {
//    private DrawFontView mDrawFont;
    private DrawPinyinView mDrawFont;
    private Context mContext;
    private String chineseWordData = "[\"M 553 581 Q 616 597 679 608 Q 722 611 723 592 " +
            "Q 724 576 701 510 Q 694 492 703 489 Q 712 485 724 501 " +
            "Q 800 571 832 588 Q 857 597 854 612 Q 851 625 766 662 " +
            "Q 741 671 712 661 Q 625 636 555 616 L 501 604 Q 425 591 329 573 " +
            "L 339 528 Q 351 529 369 535 Q 436 554 501 568 L 553 581 Z\",\"" +
            "M 329 573 Q 328 574 327 574 Q 278 599 261 597 Q 240 594 256 571 " +
            "Q 289 511 261 291 Q 249 234 221 166 Q 190 96 100 13 Q 85 0 82 -7 " +
            "Q 79 -14 92 -14 Q 134 -14 208 62 Q 301 165 327 389 Q 336 521 339 528 L 329 573 Z\",\"" +
            "M 543 405 Q 547 496 553 581 L 555 616 Q 558 718 578 783 Q 581 795 560 811 " +
            "Q 523 830 496 835 Q 478 839 470 829 Q 463 822 471 805 Q 496 769 496 745 " +
            "Q 500 678 501 604 L 501 568 Q 501 486 498 393 L 543 405 Z\",\"" +
            "M 600 165 Q 640 226 669 320 Q 676 354 696 372 Q 712 385 694 401 " +
            "Q 675 417 641 431 Q 620 438 599 428 Q 571 415 543 405 L 498 393 " +
            "Q 408 381 397 374 Q 388 367 406 358 Q 431 345 470 357 Q 531 370 591 383 " +
            "Q 612 389 612 366 Q 612 287 562 198 L 535 159 Q 477 86 305 34 " +
            "Q 289 30 299 22 Q 306 16 335 20 Q 432 32 490 59 Q 533 81 568 122 L 600 165 Z\",\"" +
            "M 568 122 Q 704 -20 761 -27 Q 875 -27 945 -19 Q 958 -15 962 -7 " +
            "Q 966 2 944 5 Q 886 24 822 41 Q 716 72 600 165 L 562 198 Q 544 214 527 231 " +
            "Q 443 321 390 316 Q 377 316 365 312 Q 355 308 361 298 Q 367 289 378 289 Q 417 286 535 159 L 568 122 Z\"]";
    private String chineseWordStroke = "[[[344,537],[359,556],[679,630],[727,633],[750,626],[771,605],[707,497]]," +
            "[[262,583],[292,559],[304,529],[302,405],[279,257],[249,169],[210,100],[157,40],[122,11],[90,-6]]," +
            "[[483,819],[533,778],[522,429],[504,401]]," +
            "[[402,368],[459,370],[614,407],[636,398],[650,377],[630,288],[608,231],[583,184],[545,132],[495,90],[451,67],[343,32],[305,27]]," +
            "[[372,302],[395,301],[440,280],[490,238],[595,132],[661,78],[735,29],[790,11],[953,-6]]]";

    String pinyin_a = "[\"M195.24,124.18q-14.75-17.67-36.33-17.67a49.08,49.08,0,0,0-19.48,4.25,41.41,41.41,0,0,0-16.85,13.42q-7.12,9.09-9,17.92a84,84,0,0,0-1.9,17.73q0,14.74,4.73,25.24t11.67,16.56q12.6,11.13,30.86,11.32,14.46,0,22.36-5.12A63.09,63.09,0,0,0,196.12,194Z" +
                "m-12.16,63q-8.16,10.76-22.9,10.55-14.94,0-23.34-11.08t-8.4-26.81q0-15.63,8.79-27a27.68,27.68,0,0,1,23-11.33q14.26,0,22.66,10.79t8.4,27.49Q191.24,176.44,183.08,187.17Z\",\"" +
            "M195.24,124.18q-.06-6.93-.1-13.86h13.58q0,17.87,0,35.93t.05,35.84q0,9.58,4.3,13.33" +
            "a19.32,19.32,0,0,0,10.06,4.64,64.81,64.81,0,0,1,1.22,6.4c.29,2.12.67,4.28,1.12,6.49A25.44,25.44,0,0,1,196.12,194\n" +
            "Q195.52,159.26,195.24,124.18Z\"]";
    String pinyin_a_iii = "[\"197.92 142 187.92 126 177.92 118 161.92 113 149.92 115 140.92 119 130.92 128 122.92 139 119.92 150 119.92 161 120.92 172 123.92 182 128.92 192 136.92 199 144.92 203 154.92 205 166.92 205 173.92 203 181.92 198 188.92 191 197.92 178 198.5 161.5 197.92 142\",\"" +
            "201.92 109 201.92 174 201.92 185 203.92 193 206.92 199 213.92 205 226.92 207\"]";

    String pinyin_y ="[\"M164,204c-12.66-31-25.34-63-38-94h20c10,24.87,18,45.13,28,70C170.71,187.94,167.29,196.06,164,204Z\",\"" +
            "M203.12,110c6.88,0,13.28.17,19.88,0L161.86,259.86l-18.46-6.15C164,204.13,182.54,159.55,203.12,110Z\"]";

    String pinyin_ue = "[\"M144.2,204.8c-6.2,4.6-13.2,7.9-20.8,9.6c-4,0.9-8.1,1.3-12.3,1.2c-11.6-0.3-20.9-3.5-27.9-9.8c-7-6.2-10.5-16.2-10.5-29.8v-65h18.2v56.6c0,11.9,1.1,20.4,3.3,25.5c2.2,5.1,7.5,8,16.1,8.5c7.2,0.5,13.4-0.7,18.7-3.6c2.1-1.2,4.1-2.6,5.9-4.3c9.3-8.8,9.5-22.5,9.5-26.2V204.8z\",\"M144.2,111h18.3v103.2h-18.3V111z\",\"M92.1,70c2.9,0,5.7,1.1,7.8,3.1c2.1,1.9,3.3,4.6,3.3,7.4c0,2.8-1.2,5.6-3.3,7.5c-2.1,2-4.9,3.1-7.8,3.1c-3,0.1-5.8-1-8-3.1c-2.1-1.9-3.3-4.6-3.2-7.5c0-2.8,1.1-5.5,3.2-7.4C86.2,71,89.1,69.9,92.1,70z\",\"M141.8,70c2.9,0,5.7,1.1,7.9,3.1c2.1,1.9,3.3,4.6,3.3,7.4c0,2.8-1.2,5.6-3.3,7.5c-4.4,4.1-11.3,4.1-15.7,0c-2.1-1.9-3.3-4.6-3.3-7.5c0-2.8,1.2-5.5,3.3-7.4C136,71.1,138.9,69.9,141.8,70z\",\"M223.6,109.3c16.9,0.2,29.2,5.3,36.7,15.3s11.1,23.1,10.7,39.3h-78.3c-0.3,8.9,2.8,17.6,8.6,24.4c6,6.9,14.2,10.4,24.9,10.5c6.2,0,12.3-1.9,17.4-5.4c5.4-3.6,9.5-8.8,11.7-14.9l15.6,3.1c-2.3,7.8-7.5,15.2-15.7,22c-8.2,6.8-18.7,10.2-31.7,10c-14.7,0-26.3-5.1-34.9-15.3s-12.8-22.5-12.8-36.9c0-14.4,4.4-26.7,13.1-36.9S209.3,109.2,223.6,109.3zM193.3,151.4h60.9c-0.1-7.3-3.1-14.3-8.4-19.3c-5.3-5.1-12.7-7.7-22.2-7.9c-8.7-0.1-15.8,2.5-21.1,7.7C197.2,137.1,193.9,144,193.3,151.4z\"]";
    String pinyin_g = "[\"M186.35,190.47a30.55,30.55,0,0,1-17,5.23,28.45,28.45,0,0,1-20.55-8.3q-8.55-8.31-8.26-26.37T149.68,134q8.92-9.09,19.67-9.08t17.73,5.86a28.88,28.88,0,0,1,9.42,13.77V117.87h-.1l-.19-.1-.1-.2-.29-.09-.2-.2-.09-.1-.2-.19a.89.89,0,0,1-.29-.1l-.1-.2-.2-.09-.09-.2a.69.69,0,0,1-.3-.1l-.09-.09c-.2,0-.3-.07-.3-.2h-.19l-.1-.1-.2-.19a.37.37,0,0,0-.29-.1l-.1-.2-.19-.09-.29-.2-.1-.1h-.1l-.29-.19-.2-.1c-.06,0-.16-.06-.29-.19l-.1-.1c-.13,0-.19,0-.19-.1H191l-.09-.2-.2-.09c-.06,0-.13-.07-.2-.2h-.19a.4.4,0,0,0-.29-.1l-.1-.19-.29-.1-.3-.29h-.29l-.2-.2-.29-.09h-.1l-.09-.2a.4.4,0,0,1-.3-.1h-.19c-.07,0-.16-.06-.29-.19l-.1-.1h-.3l-.19-.1c-.07,0-.16-.06-.29-.19h-.1a.38.38,0,0,0-.29-.1l-.1-.2H186l-.2-.09c-.06,0-.16-.07-.29-.2h-.1a.37.37,0,0,1-.29-.1h-.2c-.06,0-.16-.06-.29-.19h-.1c0-.07-.1-.1-.29-.1l-.1-.2h-.29l-.2-.09h-.29l-.1-.2h-.29l-.2-.1h-.19l-.2-.19h-.29l-.1-.1h-.49l-.09-.1h-.3l-.19-.19h-.39a.4.4,0,0,0-.3-.1h-.09a.31.31,0,0,1-.3-.2h-.19a.85.85,0,0,1-.3-.09h-.58l-.1-.2h-.39a.89.89,0,0,0-.29-.1h-.2c-.19,0-.29-.06-.29-.19h-.68l-.3-.1h-.58c-.07,0-.17-.06-.3-.19h-.68l-.29-.1h-1l-.19-.2h-.69a.62.62,0,0,1-.39-.09h-6.93a2,2,0,0,1-.59.09h-.49a1.51,1.51,0,0,0-.58.2h-.59a.9.9,0,0,0-.34,0,.93.93,0,0,1-.24,0H162a.91.91,0,0,0-.39.19,5.15,5.15,0,0,0-.78.05l-.39,0a1.48,1.48,0,0,0-.59.19,1.46,1.46,0,0,0-.59.1.41.41,0,0,0-.39.2h-.58a2.25,2.25,0,0,0-.64.24,1,1,0,0,1-.53.15,6.47,6.47,0,0,1-1.57.39c-.58.19-1.1.39-1.56.58a8.93,8.93,0,0,1-1.46.49,45.7,45.7,0,0,0-15.14,10,41.11,41.11,0,0,0-10.5,18.56,83.57,83.57,0,0,0-3.07,23.34V164q.59,17.39,9.57,30.27a3.05,3.05,0,0,1,.68,1,6.22,6.22,0,0,1,.88,1.07,7.14,7.14,0,0,1,.78.88,3.6,3.6,0,0,0,.29.49,1.76,1.76,0,0,0,.49.49,3.49,3.49,0,0,0,.39.49,3,3,0,0,0,.49.39.15.15,0,0,0,.1.14.34.34,0,0,0,.19.05.45.45,0,0,0,.15.34.41.41,0,0,0,.24.15l.49.39c.07,0,.2.1.39.29,0,.14.1.23.3.3a.45.45,0,0,0,.14.34.46.46,0,0,0,.34.15,1,1,0,0,0,.39.19.45.45,0,0,0,.15.34.41.41,0,0,0,.24.15c0,.07.05.13.15.19a.57.57,0,0,0,.34.1.4.4,0,0,0,.15.25.44.44,0,0,0,.24.14.79.79,0,0,1,.49.3c0,.13,0,.21.1.24a.69.69,0,0,0,.29.05c0,.07,0,.13.15.19a.45.45,0,0,0,.24.1.81.81,0,0,0,.49.3.63.63,0,0,0,.39.39.76.76,0,0,1,.49.29c.06,0,.2.1.39.29.07,0,.2.1.39.29,0,.14,0,.22.15.25a1.16,1.16,0,0,0,.34.05c0,.06,0,.13.15.19a.42.42,0,0,0,.24.1.87.87,0,0,1,.59.29q.09,0,.39.3a.78.78,0,0,1,.49.29,1.69,1.69,0,0,0,.58.1c.2.19.33.29.39.29a.22.22,0,0,0,.15.24.64.64,0,0,0,.24.05.84.84,0,0,1,.59.3,1.71,1.71,0,0,0,.49.09c0,.14.05.22.14.25a.92.92,0,0,0,.25.05.4.4,0,0,1,.29.09.38.38,0,0,0,.29.1c0,.07.05.13.15.2a.51.51,0,0,0,.24.09,4.15,4.15,0,0,0,.59.1.81.81,0,0,0,.49.3.66.66,0,0,0,.49.19c0,.07.05.13.14.2a.64.64,0,0,0,.34.09,2.46,2.46,0,0,0,.59.1,1.51,1.51,0,0,0,.39.1l.59.29a1,1,0,0,0,.58.2,2.14,2.14,0,0,0,.39.1,2.57,2.57,0,0,0,.59.19,1.74,1.74,0,0,0,.59.1.38.38,0,0,0,.39.19,1.26,1.26,0,0,0,.58.1,1.07,1.07,0,0,0,.59.2,2,2,0,0,0,.58.09.39.39,0,0,1,.39.2c.33,0,.53,0,.59.1h.59c.06.13.26.19.58.19a1.74,1.74,0,0,0,.59.1H162a1.7,1.7,0,0,0,.59.1h.58c.07.13.26.19.59.19h.58a1,1,0,0,0,.49.1H166a1.07,1.07,0,0,1,.59.2h4.1c.33,0,.52-.07.59-.2h1.46a17.32,17.32,0,0,0,3.71-.49h.59a16,16,0,0,0,2.15-.58h.58v-.2a1.43,1.43,0,0,0,.34,0,2.58,2.58,0,0,1,.44-.05,1,1,0,0,1,.49-.19,1.29,1.29,0,0,0,.59-.15,2.84,2.84,0,0,1,.68-.24h.2c.06,0,.13-.07.19-.2h.2a1.8,1.8,0,0,1,.39-.1,1,1,0,0,1,.49-.19,7654257570875.94,7654257570875.94,0,0,0,.78-.2.66.66,0,0,1,.49-.19.64.64,0,0,0,.39-.29,1.22,1.22,0,0,0,.49-.1,1,1,0,0,1,.39-.2.94.94,0,0,1,.39-.1L187,208h.19a.45.45,0,0,0,.25-.1,2.46,2.46,0,0,1,.44-.19h.19a.65.65,0,0,1,.3-.29h.09a.33.33,0,0,1,.3-.2,1.16,1.16,0,0,0,.39-.19,1,1,0,0,1,.49-.2.64.64,0,0,0,.39-.29,1.42,1.42,0,0,1,.48-.1,1.44,1.44,0,0,1,.4-.29.65.65,0,0,1,.29-.3.91.91,0,0,1,.39-.19,1.33,1.33,0,0,0,.49-.29.55.55,0,0,0,.24-.1c.1-.07.25-.16.44-.3a3.07,3.07,0,0,0,.68-.58h.2a.4.4,0,0,1,.29-.1v-.19a1.51,1.51,0,0,1,.39-.1l.3-.29q.28-.3.39-.3l.29-.29h.2l.29-.29a.65.65,0,0,0,.39-.3.58.58,0,0,0,.29-.29V175.78A23,23,0,0,1,186.35,190.47Z\",\"M196,108l17.79.3v94.23q0,58.11-55.86,52.84A37,37,0,0,1,128.44,234l15.43-6.54q7.32,12.39,19.14,12.89,33.5,1.17,33.49-37.11v-1Q196.5,155.07,196,108Z\"]";

    String pinyin_ang = "[\"M86.24,124.18Q71.5,106.51,49.91,106.51a49.08,49.08,0,0,0-19.48,4.25,41.41,41.41,0,0,0-16.85,13.42q-7.12,9.09-9,17.92a84,84,0,0,0-1.9,17.73q0,14.74,4.73,25.24t11.67,16.56Q31.65,212.76,49.91,213q14.46,0,22.36-5.12A63.09,63.09,0,0,0,87.12,194Zm-12.16,63q-8.16,10.76-22.9,10.55-14.94,0-23.34-11.08t-8.4-26.81q0-15.63,8.79-27a27.68,27.68,0,0,1,23-11.33q14.26,0,22.66,10.79t8.4,27.49Q82.24,176.44,74.08,187.17Z\",\"M86.24,124.18q-.06-6.93-.1-13.86H99.72q0,17.87,0,35.93t0,35.84q0,9.58,4.3,13.33a19.32,19.32,0,0,0,10.06,4.64,64.81,64.81,0,0,1,1.22,6.4c.29,2.12.67,4.28,1.12,6.49A25.44,25.44,0,0,1,87.12,194Q86.52,159.26,86.24,124.18Z\",\"M152.65,213.33H134.38V109.82h18.27Z\",\"M152.65,119.29q15.53-11.43,33.1-10.94,17.38.59,28,10t10.64,29.79v65.23H206.16V156.5q0-17.88-3.32-25.54t-16.11-8.64q-15.24-1.08-24.66,8t-9.42,26.17Z\",\"M309.35,189.47a30.55,30.55,0,0,1-17,5.23,28.45,28.45,0,0,1-20.55-8.3q-8.55-8.31-8.26-26.37T272.68,133q8.93-9.09,19.67-9.08t17.73,5.86a28.88,28.88,0,0,1,9.42,13.77V116.87h-.1l-.19-.1-.1-.2-.29-.09-.2-.2-.09-.1-.2-.19a.89.89,0,0,1-.29-.1l-.1-.2-.2-.09-.09-.2a.69.69,0,0,1-.3-.1l-.09-.09c-.2,0-.3-.07-.3-.2h-.19l-.1-.1-.2-.19a.37.37,0,0,0-.29-.1l-.1-.2-.19-.09-.29-.2-.1-.1h-.1l-.29-.19-.2-.1c-.06,0-.16-.06-.29-.19l-.1-.1c-.13,0-.19,0-.19-.1H314l-.09-.2-.2-.09c-.06,0-.13-.07-.2-.2h-.19a.4.4,0,0,0-.29-.1l-.1-.19-.29-.1-.3-.29h-.29l-.2-.2-.29-.09h-.1l-.09-.2a.4.4,0,0,1-.3-.1h-.19c-.07,0-.16-.06-.29-.19l-.1-.1h-.3l-.19-.1c-.07,0-.16-.06-.29-.19h-.1a.38.38,0,0,0-.29-.1l-.1-.2H309l-.2-.09c-.06,0-.16-.07-.29-.2h-.1a.37.37,0,0,1-.29-.1h-.2c-.06,0-.16-.06-.29-.19h-.1c0-.07-.1-.1-.29-.1l-.1-.2h-.29l-.2-.09h-.29l-.1-.2h-.29l-.2-.1h-.19l-.2-.19h-.29l-.1-.1h-.49l-.09-.1h-.3l-.19-.19h-.39a.4.4,0,0,0-.3-.1h-.09a.31.31,0,0,1-.3-.2h-.19a.85.85,0,0,1-.3-.09h-.58l-.1-.2h-.39a.89.89,0,0,0-.29-.1h-.2c-.19,0-.29-.06-.29-.19h-.68l-.3-.1h-.58c-.07,0-.17-.06-.3-.19h-.68l-.29-.1h-1l-.19-.2h-.69a.62.62,0,0,1-.39-.09h-6.93a2,2,0,0,1-.59.09h-.49a1.51,1.51,0,0,0-.58.2h-.59a.9.9,0,0,0-.34,0,.93.93,0,0,1-.24,0H285a.91.91,0,0,0-.39.19,5.15,5.15,0,0,0-.78.05l-.39,0a1.48,1.48,0,0,0-.59.19,1.46,1.46,0,0,0-.59.1.41.41,0,0,0-.39.2h-.58a2.25,2.25,0,0,0-.64.24,1,1,0,0,1-.53.15,6.47,6.47,0,0,1-1.57.39c-.58.19-1.1.39-1.56.58a8.93,8.93,0,0,1-1.46.49,45.7,45.7,0,0,0-15.14,10,41.11,41.11,0,0,0-10.5,18.56,83.57,83.57,0,0,0-3.07,23.34V163q.59,17.39,9.57,30.27a3.05,3.05,0,0,1,.68,1,6.22,6.22,0,0,1,.88,1.07,7.14,7.14,0,0,1,.78.88,3.6,3.6,0,0,0,.29.49,1.76,1.76,0,0,0,.49.49,3.49,3.49,0,0,0,.39.49,3,3,0,0,0,.49.39.15.15,0,0,0,.1.14.34.34,0,0,0,.19.05.45.45,0,0,0,.15.34.41.41,0,0,0,.24.15l.49.39c.07,0,.2.1.39.29,0,.14.1.23.3.3a.45.45,0,0,0,.14.34.46.46,0,0,0,.34.15,1,1,0,0,0,.39.19.45.45,0,0,0,.15.34.41.41,0,0,0,.24.15c0,.07,0,.13.15.19a.57.57,0,0,0,.34.1.4.4,0,0,0,.15.25.44.44,0,0,0,.24.14.79.79,0,0,1,.49.3c0,.13,0,.21.1.24a.69.69,0,0,0,.29.05c0,.07.05.13.15.19a.45.45,0,0,0,.24.1.81.81,0,0,0,.49.3.63.63,0,0,0,.39.39.76.76,0,0,1,.49.29c.06,0,.2.1.39.29.07,0,.2.1.39.29,0,.14.05.22.15.25a1.16,1.16,0,0,0,.34.05c0,.06.05.13.15.19a.42.42,0,0,0,.24.1.87.87,0,0,1,.59.29q.09,0,.39.3a.78.78,0,0,1,.49.29,1.69,1.69,0,0,0,.58.1c.2.19.33.29.39.29a.22.22,0,0,0,.15.24.64.64,0,0,0,.24.05.84.84,0,0,1,.59.3,1.71,1.71,0,0,0,.49.09c0,.14.05.22.14.25a.92.92,0,0,0,.25.05.4.4,0,0,1,.29.09.38.38,0,0,0,.29.1c0,.07,0,.13.15.2a.51.51,0,0,0,.24.09,4.15,4.15,0,0,0,.59.1.81.81,0,0,0,.49.3.66.66,0,0,0,.49.19c0,.07.05.13.14.2a.64.64,0,0,0,.34.09,2.46,2.46,0,0,0,.59.1,1.51,1.51,0,0,0,.39.1l.59.29a1,1,0,0,0,.58.2,2.14,2.14,0,0,0,.39.1,2.57,2.57,0,0,0,.59.19,1.74,1.74,0,0,0,.59.1.38.38,0,0,0,.39.19,1.26,1.26,0,0,0,.58.1,1.07,1.07,0,0,0,.59.2,2,2,0,0,0,.58.09.39.39,0,0,1,.39.2c.33,0,.53,0,.59.1h.59c.06.13.26.19.58.19a1.74,1.74,0,0,0,.59.1H285a1.7,1.7,0,0,0,.59.1h.58c.07.13.26.19.59.19h.58a1,1,0,0,0,.49.1H289a1.07,1.07,0,0,1,.59.2h4.1c.33,0,.52-.07.59-.2h1.46a17.32,17.32,0,0,0,3.71-.49h.59a16,16,0,0,0,2.15-.58h.58v-.2a1.43,1.43,0,0,0,.34,0,2.58,2.58,0,0,1,.44-.05,1,1,0,0,1,.49-.19,1.29,1.29,0,0,0,.59-.15,2.84,2.84,0,0,1,.68-.24h.2c.06,0,.13-.07.19-.2h.2a1.8,1.8,0,0,1,.39-.1,1,1,0,0,1,.49-.19,5740693178168.25,5740693178168.25,0,0,0,.78-.2.66.66,0,0,1,.49-.19.64.64,0,0,0,.39-.29,1.22,1.22,0,0,0,.49-.1,1,1,0,0,1,.39-.2.94.94,0,0,1,.39-.1L310,207h.19a.45.45,0,0,0,.25-.1,2.46,2.46,0,0,1,.44-.19h.19a.65.65,0,0,1,.3-.29h.09a.33.33,0,0,1,.3-.2,1.16,1.16,0,0,0,.39-.19,1,1,0,0,1,.49-.2.64.64,0,0,0,.39-.29,1.42,1.42,0,0,1,.48-.1,1.44,1.44,0,0,1,.4-.29.65.65,0,0,1,.29-.3.91.91,0,0,1,.39-.19,1.33,1.33,0,0,0,.49-.29.55.55,0,0,0,.24-.1c.1-.07.25-.16.44-.3a3.07,3.07,0,0,0,.68-.58h.2a.4.4,0,0,1,.29-.1v-.19a1.51,1.51,0,0,1,.39-.1l.3-.29q.28-.3.39-.3l.29-.29h.2l.29-.29a.65.65,0,0,0,.39-.3.58.58,0,0,0,.29-.29V174.78A23,23,0,0,1,309.35,189.47Z\",\"M319,107l17.79.3v94.23q0,58.11-55.86,52.84A37,37,0,0,1,251.44,233l15.43-6.54q7.32,12.39,19.14,12.89,33.5,1.17,33.49-37.11v-1Q319.5,154.07,319,107Z\"]";
    String pinyin_ang_stroke = "[\"88.92 142 78.92 126 68.92 118 52.92 113 40.92 115 31.92 119 21.92 128 13.92 139 10.92 150 10.92 161 11.92 172 14.92 182 19.92 192 27.92 199 35.92 203 45.92 205 57.92 205 64.92 203 72.92 198 79.92 191 88.92 178 89.5 161.5 88.92 142\",\"92.92 109 92.92 174 92.92 185 94.92 193 97.92 199 104.92 205 117.92 207\",\"144 107 144 129.25 144 215\",\"151 131 159 123 166 119 174 116 181 115 187 115 195 116 202 119 210 127 215 135 215 145 215 215\",\"321 129 311 121 302 116 293 114 285 115 276 119 268 125 261 134 257 143 255 155 255 166 256 176 259 183 265 191 272 197 279 201 288 203 296 203 304 203 311 200 317 195 321 188\",\"328 105 328 202 328 208 327 216 325 225 319 234 313 241 303 246 293 248 283 248 272 244 265 239 260 233 256 226\"]";

    String pinyin_w = "[\"M173.55,129.89s-8.61,28.83-11.57,38.82-5.76,19.52-8.4,28.57-4.24,14.61-4.83,16.7H128.54L99,107l18.21,0q5.66,21.49,11.08,42.48T140,191.81L164.38,107h16.33Z\",\"M248,107,217.5,214H196.41q-.58-2.05-4.25-15.48t-7.77-28.66c-2.73-10.16-10.84-40-10.84-40L167.38,107h16.33q6.06,21.78,11.43,43.12T207.25,193q6-21.58,11.37-42.87t11-43.07";

    String hanzi_1 = "M 518 382 Q 572 385 623 389 Q 758 399 900 383 Q 928 379 935 390 Q 944 405 930 419 Q 896 452 845 475 Q 829 482 798 473 Q 723 460 480 434 Q 180 409 137 408 Q 130 408 124 408 Q 108 408 106 395 Q 105 380 127 363 Q 146 348 183 334 Q 195 330 216 338 Q 232 344 306 354 Q 400 373 518 382 Z";

    String pinyin_ie = "[M117.53,67.41q11.13,0,11.13,10.35,0,10.55-11.13,10.54t-11-10.54Q106.5,67.41,117.53,67.41Z\\\",\\\"M189.55,109.32q25.39.29,36.72,15.28T237,163.91H158.69a35.06,35.06,0,0,0,8.64,24.36q8.94,10.41,24.86,10.5a31,31,0,0,0,17.38-5.42,29.76,29.76,0,0,0,11.72-14.89l15.62,3.12" +
            "q-3.42,11.73-15.67,22t-31.69,10q-22.06,0-34.86-15.29t-12.8-36.86q0-21.58,13.14-36.92T189.55,109.32Zm-30.27,42.09h60.93a27.37,27.37,0,0,0-8.39-19.34";


    String newhanzi_po = "[\\\"M289,597c88.7,22,135,34.7,139,38c6,6,7.3,11.7,4,17c-6,8-18.7,14-38,18c-20.7,2.7-41.3,0-62-8c-24.7-10-50.3-18.7-77-26c-30.7-6.7-63.7-12.7-99-18c-24.7-4.7-27.7-12.3-9-23c24-12,53.7-15.7,89-11L289,597z\\\",\\\"M240,393c18.7,38,39.3,86.3,62,145c10,22,14.7,34.3,14,37c-4.7,10-13.7,17.3-27,22l-53-13c12-40-2-104-42-192l-23-45c-24.7-42.7-64.7-100-120-172c-4.7-4.7-3.7-7,3-7c30,10,74.3,53.3,133,130L240,393z\\\",\\\"M194,392c-6,2-13,3.7-21,5c-6.7,2-11.3,1.3-14-2c-4.7-4-4-11,2-21c2.7-8,6-17,10-27l16-49c6.7-26,12.7-55.3,18-88c2-20.7,8.7-37.7,20-51c10.7-14,17.7-16,21-6c4.7,12.7,5.3,30.7,2,54l-5,31c-10.7,62.7-16.7,103.7-18,123L194,392z\\\",\\\"M374,261c10.7,56,23.3,92.7,38,110c14,16.7,13.3,29-2,37c-12.7,6.7-27.3,15.3-44,26c-14,6.7-33.7,1-59-17c-24-8.7-46.3-16.7-67-24l-16.8-30.2l1.8-1.8c10,2.7,38,10.3,84,23c16,4.7,26,3.7,30-3c4.7-4,5.3-17.7,2-41c-4-22.7-8.3-47-13-73L374,261z\\\",\\\"M248,207c4.7-0.7,10.3,0,17,2c24.7,8,64.3,16.7,119,26c6.7,0.7,10,4,10,10c0,4.7-6.7,10-20,16l-46,6c-2.7-0.7-5.3-1.7-8-3c-28.7-10.7-54.3-19.3-77-26L248,207z\\\",\\\"M675,585c30.7,8.7,62,16.7,94,24c22.7,4,34.7,1,36-9c0.7-8-5.3-28.3-18-61c-4.7-10-4.7-16,0-18c4.7-2.7,11,0.3,19,9c44,34,75,54.3,93,61c14,4,20.3,10,19,18c-0.7,8.7-25.3,23.7-74,45c-14.7,6-30.3,6.3-47,1c-44-14-84-26.3-120-37l-50-12c-36.7-8-77.7-17-123-27l26-35c10,4.7,42.3,14,97,28L675,585z\\\",\\\"M504,579c-22.7,10.7-37.7,15.3-45,14c-12.7-2.7-14-10.7-4-24c22.7-42,25.3-128,8-258c-6-34.7-17.7-73-35-115c-20-46.7-56.3-94.3-109-143c-8.7-8-14-14-16-18c-0.7-4.7,2.3-6.7,9-6c24.7,0,59,24,103,72c48.7,52.7,80,123.3,94,212c8.7,54.7,14.3,122.3,17,203c0.7,12.7,2,22,4,28L504,579z\\\",\\\"M665,421c2.7,56.7,6,111.3,10,164l2,33c0.7,58,8,115.3,22,172c2.7,6.7-3,15.3-17,26c-24,12.7-44,20.3-60,23c-10.7,2.7-18.7,1-24-5c-4.7-4.7-4.3-12.3,1-23c16-22.7,24-42,24-58c2-46.7,3.3-95.7,4-147v-34c0-50.7-1.3-104.3-4-161L665,421z\\\",\\\"M667.3,195.3c22.7,42.7,43.7,96,65,160c6.7,18.7,16.3,34,29,46c12,10.7,13.7,20,5,28c-8.7,6.7-23,13.3-43,20c-14.7,4.7-30.7,2.3-48-7c-16.7-6.7-35.7-13.7-57-21l-42-10c-56-10-84.3-16-85-18c-2.7-4.7,1.7-9.3,13-14c22.7-8.7,49.3-8,80,2c42,14.7,66.7,21.7,74,21c16-0.7,22-10,18-28c-10.7-56.7-26-105-46-145l-22-38c-44-62-109.3-107.3-196-136c-8.7-2.7-9-6.3-1-11c4-4,19.7-5,47-3c66,8,126,45,180,111L667.3,195.3z\\\",\\\"M685,152c34.7-42.7,68.3-82.3,101-119c10.7-12.7,25-19,43-19c94,8,145,16,153,24c2.7,4.7,0.3,8.3-7,11c-110,42-186,81-228,117c-10.7,10-22,19.7-34,29l-36,34c-30,28.7-62,62.3-96,101c-8,10.7-17.7,16.7-29,18c-14.7,0-23.7-2.3-27-7c-2-2.7-0.7-5.7,4-9c24-12.7,43.3-30.3,58-53c22.7-30.7,45.3-60,68-88L685,152z\\\"]";
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_draw_front);
        mDrawFont = findViewById(R.id.drawfont);
        mContext = this;
        findViewById(R.id.btn_retry).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                mDrawFont.clear();
//                mDrawPinyinView.initData(pinyin_y,pinyin_a_iii,true);
//                mDrawPinyinView.setCanTouch(true);
//                mPopupWindow.showAtLocation(getWindow().getDecorView(), Gravity.CENTER,0,0);

            }
        });

        findViewById(R.id.btn_play).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                mDrawFont.autoPlay();
            }
        });

        findViewById(R.id.btn_init).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(final View v) {
//                mDrawFont.initData(chineseWordData,chineseWordStroke,true);
//                mDrawFont.initData(pinyin_w,pinyin_ang_stroke,false,false);
                mDrawFont.initData(newhanzi_po,pinyin_a_iii,false,false);
//                mDrawFont.initData(hanzi_1,chineseWordStroke,false,false);

            }
        });
        mDrawFont.setCanTouch(false);
//        initPop();
    }

    private DrawPinyinView mDrawPinyinView;
    private PopupWindow mPopupWindow;

    /**
     * 初始化拼音书写弹窗
     */
    private void initPop()
    {
        View view = LayoutInflater.from(this).inflate(R.layout.view_pop_pinyinwrite,null);
        ImageView img_close = (ImageView) view.findViewById(R.id.close);
        mDrawPinyinView = (DrawPinyinView) view.findViewById(R.id.characterwrite_drawfont);
        Button btn_rewrite = (Button) view.findViewById(R.id.btn_rewrite);
        btn_rewrite.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(final View v) {
                mDrawPinyinView.clear();
            }
        });
        img_close.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(final View v) {
                mPopupWindow.dismiss();
            }
        });
        mPopupWindow = new PopupWindow();
        //设置宽高
        mPopupWindow.setWidth(ViewGroup.LayoutParams.MATCH_PARENT);
        mPopupWindow.setHeight(ViewGroup.LayoutParams.MATCH_PARENT);
        mPopupWindow.setContentView(view);
    }
}


